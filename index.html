<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GFX OPEN WORLD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; overflow:hidden; background:black; font-family:sans-serif; }
#ui {
  position:fixed; top:10px; left:10px; color:white;
  background:rgba(0,0,0,.5); padding:8px; border-radius:8px;
}
.btn {
  position:fixed; bottom:20px; width:60px; height:60px;
  background:rgba(255,255,255,.2); color:white;
  text-align:center; line-height:60px; border-radius:50%;
  font-size:22px; user-select:none;
}
#up { left:80px; bottom:100px; }
#down { left:80px; bottom:20px; }
#left { left:20px; bottom:60px; }
#right { left:140px; bottom:60px; }
</style>
</head>

<body>
<div id="ui">ü™ô Coins: <span id="coins">0</span></div>
<div class="btn" id="up">‚Üë</div>
<div class="btn" id="down">‚Üì</div>
<div class="btn" id="left">‚Üê</div>
<div class="btn" id="right">‚Üí</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>

<script>
let scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb);

let camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
camera.position.set(0,6,10);

let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// light
scene.add(new THREE.HemisphereLight(0xffffff,0x444444,1));

// ground
let ground = new THREE.Mesh(
  new THREE.PlaneGeometry(200,200),
  new THREE.MeshStandardMaterial({color:0x228B22})
);
ground.rotation.x = -Math.PI/2;
scene.add(ground);

// player (your image later texture)
let player = new THREE.Mesh(
  new THREE.BoxGeometry(1,2,1),
  new THREE.MeshStandardMaterial({color:0x0000ff})
);
player.position.y = 1;
scene.add(player);

// houses
for(let i=0;i<20;i++){
  let h = new THREE.Mesh(
    new THREE.BoxGeometry(4,4,4),
    new THREE.MeshStandardMaterial({color:0x8B4513})
  );
  h.position.set(
    (Math.random()-0.5)*80,
    2,
    (Math.random()-0.5)*80
  );
  scene.add(h);
}

// NPC
for(let i=0;i<10;i++){
  let npc = new THREE.Mesh(
    new THREE.BoxGeometry(1,2,1),
    new THREE.MeshStandardMaterial({color:0xff0000})
  );
  npc.position.set(
    (Math.random()-0.5)*60,
    1,
    (Math.random()-0.5)*60
  );
  scene.add(npc);
}

// coins
let coins = [];
let coinCount = 0;
for(let i=0;i<30;i++){
  let c = new THREE.Mesh(
    new THREE.CylinderGeometry(0.4,0.4,0.2,16),
    new THREE.MeshStandardMaterial({color:0xffd700})
  );
  c.rotation.x = Math.PI/2;
  c.position.set(
    (Math.random()-0.5)*80,
    0.3,
    (Math.random()-0.5)*80
  );
  scene.add(c);
  coins.push(c);
}

// controls
let move = {up:false,down:false,left:false,right:false};
["up","down","left","right"].forEach(id=>{
  let el=document.getElementById(id);
  el.ontouchstart=()=>move[id]=true;
  el.ontouchend=()=>move[id]=false;
});

function animate(){
  requestAnimationFrame(animate);

  let speed = 0.15;
  if(move.up) player.position.z -= speed;
  if(move.down) player.position.z += speed;
  if(move.left) player.position.x -= speed;
  if(move.right) player.position.x += speed;

  camera.position.lerp(
    new THREE.Vector3(
      player.position.x,
      player.position.y+6,
      player.position.z+10
    ),0.1
  );
  camera.lookAt(player.position);

  // coin collect
  coins.forEach((c,i)=>{
    if(c.visible && c.position.distanceTo(player.position)<1){
      c.visible=false;
      coinCount++;
      document.getElementById("coins").innerText=coinCount;
    }
  });

  renderer.render(scene,camera);
}
animate();

window.onresize=()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
};
</script>
</body>
  </html>
  
